# 함수

## 종류
- 숫자함수
- 문자함수
- 날짜함수
- 변환함수
- 그룹함수
- 그룹관련함수 

### 숫자함수
- CEIL(인자)    : 인자보다 크거나 같은 정수 중 제일 작은 수를 반환하는 함수
  [ceil : "천정"]   ex) CEIL(12.34) : 13    (결과값은 정수)

- FLOOR(인자)    : 인자보다 작거나 같은 정수 중 제일 큰 수를 반환하는 함수
  [floor : "바닥"]   ex) FLOOR(12.34) : 12    (결과값은 정수)

- ROUND(인자, 자리수)   : 인자를 지정한 자리수에서 반올림한 값을 반환하는 함수
    * 자리수  : 소수점 아래 첫째자리 0
               소수점 아래 둘째자리  1
               소수점 아래 N번째자리 N
               정수 부분 N번째리 -N
               a  a   a. b b b b b 
               -3 -2 -1  0 1 2 3 4

- MOD(인자1, 인자2)     : 인자1을 인자2를 나눈 나머지를 반환하는 함수
- POWER(인자1, 인자2)   : 인자1을 인자2로 제곱하는 값을 반환하는 함수
- SQRT(인자)            : 인자의 제곱근을 구한 값을 반환하는 함수
- TRUNC(인자, 자리수)   : 인자를 자리수에서 절삭한 값을 반환하는 함수
- ABS(인자)             : 인자의 절댓값을 반환하는 함수

### 문자함수
- UPPER(인자)           : 인자(영문자)를 대문자로 변환하는 함수
- LOWER(인자)           : 인자(영문자)를 소문자로 변환하는 함수
- INITCAP(인자)         : 인자(영문자)를 단어를 기준으로 첫글자를 대문자로 변환하는 함수

- LENGTH(인자)          : 인자의 글자 수를 반환하는 함수
- LENGTHB(인자)         : 인자의 바이트 수를 반환하는 함수

- CONCAT(인자1, 인자2)  : 인자1과 인자2를 연결하는 함수
    ||                  : 2개 이상의 문자열을 연결하는 기호

- SUBSTR(문자열, 시작번호, 글자수)
  : 문자열에서 시작번호부터 지정한 글자 수만큼의 문자열을 추출하여 반환하는 함수

- SUBSTRB(문자열, 시작번호, 바이트수)
  : 문자열에서 시작번호부터 지정한 바이트 수만큼의 문자열을 추출하여 반환하는 함수

- INSTR(문자열, 문자, 시작번호, 순서)
  : 문자열 안에서 지정한 시작번호부터 문자를 찾아서,
    지정한 순서에서 있는 문자의 위치를 반환하는 함수
      
- INSTRB(문자열, 문자, 시작번호, 순서)
  : 문자열 안에서 지정한 시작번호부터 문자를 찾아서,
    지정한 순서에서 있는 문자의 위치를 바이트로 반환하는 함수

- LPAD(문자열, 칸, 문자)    : 지정한 칸에서 왼쪽 빈공간을 특정문자로 채우는 함수
- RPAD(문자열, 칸, 문자)    : 지정한 칸에서 오른쪽 빈공간을 특정문자로 채우는 함수




### 날짜함수
- SYSDATE
 : 현재 날짜와 시간을 DATE 타입의 데이터로 반환하는 함수

- SYSTIMESTAMP
 : 현재 날짜와 시간을 TIMESTAMP 타입의 데이터로 반환하는 함수

- ADD_MONTHS(날짜, 개월수)
 : 해당날짜로부터 개월 수를 더한 날짜를 반환하는 함수

- MONTHS_BETWEEN(날짜1, 날짜2)
 : 날짜1 부터 날짜2 사이의 개월 수를 반환하는 함수

- NEXT_DAY(날짜, 요일번호)
 : 지정한 날짜 이후에 나오는 요일번호에 해당하는 날짜를 반환하는 함수
 * 요일번호 : 일요일 (1) ~ 토요일 (7)

- LAST_DAY(날짜)
 : 지정한 날짜와 같은 달의 마지막 날짜를 반환하는 함수 (월말)

- TRUNC( 날짜, 날짜형식 ) 
 : 날짜형식 단위로 날짜 데이터를 절삭하여 반환하는 함수
 ex) TRUNC( 날짜, 'MM' )
     : 월 단위로 날짜 데이터를 절삭하여 같은 달의 첫번째 날짜를 구하는 함수 (월초)




### 변환함수

- TO_CHAR(인자, 출력포맷)   : 인자(날짜, 숫자)를 문자로 변환하는 함수

  * TO_CHAR(날짜, 포맷)
  - 날짜 데이터 포맷
    CC          :       세기
    YYYY        :       연도 (4자리)
    YY          :       연도 (2자리)
    MM          :       월 (2자리)
    MON         :       월 (언어별 월 이름의 약자 - JAN / 1월)
    MONTH       :       월 (언어별 월 이름 - January / 1월)
    DD          :       일 (2자리)
    DDD         :       1년 중 몇일 (3자리) [1~366]
    DY          :       요일 (언어별 요일 이름의 약자)
    DAY         :       요일 (언어별 요일 이름)
    W           :       1년 중 몇번째 주 [1~53]
    HH24        :       24시 기준 시간
    HH          :       12시 기준 시간
    MI          :       분
    SS          :       초
    AM, PM      :       오전, 오후

  * TO_CHAR(숫자, 포맷)
  - 숫자 데이터 포맷
    9           :         숫자 한자리 (값이 없으면 채우지 않음)
    0           :         숫자 한자리 (값이 없으면 0으로 채움)
    $           :         달러 표시
    L           :         지역 화폐 단위 기호
    .           :         소수점
    ,           :         천 단위 구분 기호

- TO_DATE()         : 문자 데이터를 날짜 데이터로 변환하는 함수
  * TO_DATE(문자, '변환포맷')
    ex) TO_DATE('2024/01/01', 'YYYY/MM/DD')
        TO_DATE('2024.01.01', 'YYYY.MM.DD')

- TO_NUMBER()       : 문자 데이터를 숫자 데이터로 변환하는 함수
  * TO_NUMBER(문자, '출력포맷')


### NULL 관련 함수
- NVL( 인자1, 인자2 )
  : 인자1이 NULL 이면, 인자2를 반환하는 함수

- NVL2( 인자1, 인자2, 인자3 )
  : 인자1이 NULL이 아니면 인자2, NULL 이면 인자3을 반환하는 함수

- COALESCE( 인자1, 인자2, ... )
  : 인자들 중 NULL 이 아닌 첫번째 값을 반환하는 함수
     ex) 인자1 : NULL, 인자2 : NULL, 인자3 : (값)
         출력 : 인자3

- LNNVL(조건식)
  : 조건식의 결과가
    i) TRUE --> FALSE, 
    ii) NULL, FALSE --> TRUE 로 변환하는 함수

- NULLIF( 인자1, 인자2 )
  : 인자1과 인자2가 같으면 NULL
    인자1과 인자2가 다르면 인자1을 반환하는 함수


### 그룹함수
- SUM(인자)         : 숫자형 컬럼인 인자 합계를 구하는 함수
- AVG(인자)         : 숫자형 컬럼인 인자 평균을 구하는 함수
- COUNT(인자)       : 조회 결과인 행의 개수를 반환하는 함수
- MAX(인자)         : 숫자형/날짜형 인자의 최댓값을 구하는 함수
                    * MAX(날짜)     : 가장 최근의 날짜
                    * MAX(숫자)     : 가장 큰 숫자

- MIN(인자)         : 숫자형/날짜형 인자의 최솟값을 구하는 함수
                    * MIN(날짜)     : 가장 과거의 날짜
                    * MIN(숫자)     : 가장 작은 숫자

- STDDEV(인자)      : 숫자형 인자의 표준편차를 구하는 함수
- VARIANCE(인자)    : 숫자형 인자의 분산를 구하는 함수


### 그룹 관련 함수
- ROLLUP(인자1, 인자2, ...)     
    : 그룹 기준으로 집계한 정보를 레벨별로 출력하는 함수

- CUBE(인자1, 인자2, ...)
    : 그룹 기준으로 집계한 정보를 가능한 모든 조합별로 출력하는 함수

- GROUPING SETS(인자1, 인자2, ...)
    : 그룹컬럼이 여러 개 일 때, 집계한 정보를 컬럼별로 출력하는 함수
    
- GROUPING()
    : 그룹화한 컬럼들에 대해 그룹화된 여부를 출력하는 함수
      * 그룹화 O : 출력 결과 0
      * 그룹화 X : 출력 결과 1

- LISTAGG( 나열할 컬럼, [구분자] )
  ( LIST + Aggregate : 목록 + 결합 )
  WITHIN GROUP (ORDER BY 정렬기준 컬럼)
  : 그룹화된 데이터를 하나의 열에 목록으로 나열하여 출력하는 함수

- PIVOT()
: 그룹화한 행 데이터를 열로 바꾸어서 출력하는 함수
* (
    SELECT 컬럼1, 컬럼2, 컬럼3
    FROM 테이블명
  )
  PIVOT (
        그룹함수( 컬럴명 ) 
        FOR 피벗할 컬럼 IN ( 값1, 값2, 값3, ... )
  )

- UNPIVOT()
: 그룹화된 결과인 열을 행 데이터로 바꾸어서 출력하는 함수
* UNPIVOT (
    기준컬럼
    FOR 피벗할 컬럼 IN (열1, 열2, 열3, ... )
)

### 기타함수
- GREATEST( 인자1, 인자2, ... )
  : 인자들 중 가장 큰 값을 반환하는 함수

- LEAST( 인자1, 인자2, ... )
  : 인자들 중 가장 작은 값을 반환하는 함수

- DECODE( 인자, 조건1, 결과1, 조건2, 결과2, ... )
  : 인자의 값이 조건과 일치할 때, 그 뒤의 지정한 결과를 출력하는 함수

### CASE 문
  : 특정 조건에 따라 반환할 데이터를 설정하는 조건문

  CASE
      WHEN 조건1 THEN 결과1   -- 조건1 만족 시, 결과 1를 반환
      WHEN 조건2 THEN 결과2
      WHEN 조건3 THEN 결과3
      ...
      ELSE 결과A              -- 위 모든 조건 만족하지 않았을 때, 결과A를 반환
  END

